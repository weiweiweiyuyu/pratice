<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>thisæŒ‡å‘é—®é¢˜ç»ƒä¹ </title>
</head>

<body>
    <script>
        //------------é»˜è®¤ç»‘å®š--------------
        // 1ã€é»˜è®¤ç»‘å®šï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹thisæŒ‡å‘çš„æ˜¯å…¨å±€å¯¹è±¡window,è€Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šç»‘å®šåˆ°undefiend
        window.a = 10;

        function foo() {
            console.log(this.a) //10
        }
        window.foo();

        //2ã€ä¸¥æ ¼æ¨¡å¼
        "use strict";
        var a = 10;

        function foo() {
            console.log('this1', this) //this1 undefined
            console.log(window.a) //10
            console.log(this.a) //æŠ¥é”™Uncaught TypeError: Cannot read property 'a' of undefined
        }
        console.log(window.foo) //foo{...}
        console.log('this2', this) //this2 window
        foo();

        //3ã€å¦‚æœæŠŠvaræ”¹æˆäº†letæˆ–constï¼Œå˜é‡æ˜¯ä¸ä¼šè¢«ç»‘å®šåˆ°windowä¸Šçš„ï¼Œæ‰€ä»¥æ­¤æ—¶ä¼šæ‰“å°ä¸‰ä¸ªundefined
        let a = 10
        const b = 20

        function foo() {
            console.log(this.a) //undefined
            console.log(this.b) //undefined
        }
        foo();
        console.log(window.a) //undefined

        //4ã€æ³¨æ„ï¼Œæ˜¯this.aï¼Œä¸æ˜¯aï¼Œå› æ­¤æ˜¯windowä¸‹çš„a
        var a = 1

        function foo() {
            var a = 2
            console.log(this) //window
            console.log(this.a) //1
        }
        foo() //windowè°ƒç”¨çš„foo,æ‰€ä»¥foo()å‡½æ•°å†…çš„thisæŒ‡å‘window

        //5ã€è¿™é‡Œé—®ä½ çš„æ˜¯this.aï¼Œè€Œåœ¨innerä¸­ï¼ŒthisæŒ‡å‘çš„è¿˜æ˜¯windowã€‚
        var a = 1

        function foo() {
            var a = 2

            function inner() {
                console.log(this.a) //thisçš„æŒ‡å‘ä»æ—§æ˜¯window è¾“å‡º1
            }
            inner()
        }
        foo()

        //------------éšå¼ç»‘å®š--------------
        //6ã€
        function foo() {
            console.log(this.a) //1
        }
        var obj = {
            a: 1,
            foo
        }
        var a = 2
        obj.foo()

        //7ã€å› ä¸ºè™½ç„¶foo2æŒ‡å‘çš„æ˜¯obj.fooå‡½æ•°ï¼Œä¸è¿‡è°ƒç”¨å®ƒçš„å´æ˜¯windowå¯¹è±¡ï¼Œæ‰€ä»¥å®ƒé‡Œé¢thisçš„æŒ‡å‘æ˜¯ä¸ºwindowã€‚
        function foo() {
            console.log(this.a)
        };
        var obj = {
            a: 1,
            foo
        };
        var a = 2;
        var foo2 = obj.foo;

        obj.foo(); //1
        foo2(); //2

        //8ã€
        function foo() {
            console.log(this.a)
        };
        var obj = {
            a: 1,
            foo
        };
        var a = 2;
        var foo2 = obj.foo;
        var obj2 = {
            a: 3,
            foo2: obj.foo
        }
        obj.foo(); //1  thisæŒ‡å‘obj
        foo2(); //2 thisæŒ‡å‘window
        obj2.foo2(); //3 thisæŒ‡å‘obj2

        //9ã€å†å°±æ˜¯å¦‚æœä½ æŠŠä¸€ä¸ªå‡½æ•°å½“æˆå‚æ•°ä¼ é€’æ—¶ï¼Œä¹Ÿä¼šè¢«éšå¼èµ‹å€¼ï¼Œå‘ç”Ÿæ„æƒ³ä¸åˆ°çš„é—®é¢˜ã€‚
        function foo() {
            console.log(this.a)
        }

        function doFoo(fn) {
            console.log(this)
            fn()
        }
        var obj = {
            a: 1,
            foo
        }
        var a = 2
        doFoo(obj.foo) //è¿™é‡Œæˆ‘ä»¬å°†obj.fooå½“æˆå‚æ•°ä¼ é€’åˆ°doFooå‡½æ•°ä¸­ï¼Œ
        //åœ¨ä¼ é€’çš„è¿‡ç¨‹ä¸­ï¼Œobj.foo()å‡½æ•°å†…çš„thiså‘ç”Ÿäº†æ”¹å˜ï¼ŒæŒ‡å‘äº†windowã€‚

        //10ã€
        function foo() {
            console.log(this.a)
        }

        function doFoo(fn) {
            console.log(this)
            fn()
        }
        var obj = {
            a: 1,
            foo
        }
        var a = 2
        var obj2 = {
            a: 3,
            doFoo
        }
        obj2.doFoo(obj.foo)
        //æ‰€ä»¥è¯´ï¼Œå¦‚æœä½ æŠŠä¸€ä¸ªå‡½æ•°å½“æˆå‚æ•°ä¼ é€’åˆ°å¦ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œä¹Ÿä¼šå‘ç”Ÿéšå¼ä¸¢å¤±é—®é¢˜
        //ä¸”ä¸åŒ…è£¹ç€å®ƒçš„å‡½æ•°thisæŒ‡å‘æ— å…³ï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¼šæŠŠè¯¥å‡½æ•°çš„thisç»‘å®šåˆ°windowä¸Šï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ç»‘å®šåˆ°undefined.

        //------------æ˜¾ç¤ºç»‘å®š--------------
        //  é€šè¿‡call()ã€apply()æˆ–è€…bind()æ–¹æ³•ç›´æ¥æŒ‡å®šthisçš„ç»‘å®šå¯¹è±¡, å¦‚foo.call(obj)ã€‚
        //  ä½¿ç”¨.call()æˆ–è€….apply()çš„å‡½æ•°æ˜¯ä¼šç›´æ¥æ‰§è¡Œçš„
        //  bind()æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨æ‰ä¼šæ‰§è¡Œ
        //  .call()å’Œ.apply()ç”¨æ³•åŸºæœ¬ç±»ä¼¼ï¼Œä¸è¿‡callæ¥æ”¶è‹¥å¹²ä¸ªå‚æ•°ï¼Œè€Œapplyæ¥æ”¶çš„æ˜¯ä¸€ä¸ªæ•°ç»„

        //11ã€
        function foo() {
            console.log(this.a)
        }
        var obj = {
            a: 1
        }
        var a = 2

        foo() //2
        foo.call(obj) //1
        foo.apply(obj) //1
        foo.bind(obj) //ä¸ä¼šæ‰§è¡Œï¼Œéœ€è¦è°ƒç”¨ï¼Œfoo.bind(obj)();
        //å¦‚æœcallã€applyã€bindæ¥æ”¶åˆ°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç©ºæˆ–è€…null undefinedçš„è¯ï¼Œåˆ™ä¼šå¿½ç•¥è¿™ä¸ªå‚æ•°ã€‚

        //12ã€
        var obj1 = {
            a: 1
        }
        var obj2 = {
            a: 2,
            foo1: function () {
                console.log(this.a)
            },
            foo2: function () {
                //å¯¹äºsetTimeoutä¸­çš„å‡½æ•°ï¼Œè¿™é‡Œå­˜åœ¨éšå¼ç»‘å®šçš„éšå¼ä¸¢å¤±ï¼Œä¹Ÿå°±æ˜¯å½“æˆ‘ä»¬å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’æ—¶ä¼šè¢«éšå¼èµ‹å€¼ï¼Œ
                //å›è°ƒå‡½æ•°ä¸¢å¤±this ç»‘å®šï¼Œå› æ­¤è¿™æ—¶å€™setTimeoutä¸­çš„å‡½æ•°å†…çš„thisæ˜¯æŒ‡å‘window
                setTimeout(function () {
                    console.log(this)
                    console.log(this.a)
                }, 0)
            }
        }
        var a = 3
        obj2.foo1() //2
        obj2.foo2() //window{...}  3

        //13ã€é¢å¯¹ä¸Šé¢ğŸ‘†è¿™ç§æƒ…å†µæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨callã€apply æˆ–è€…bindæ¥æ”¹å˜å‡½æ•°ä¸­thisçš„æŒ‡å‘ï¼Œ
        //ä½¿å®ƒç»‘å®šåˆ°obj1ä¸Šï¼Œä»è€Œæ‰“å°å‡º1ã€‚
        var obj1 = {
            a: 1
        }
        var obj2 = {
            a: 2,
            foo1: function () {
                console.log(this.a)
            },
            foo2: function () {
                setTimeout(function () {
                    console.log(this)
                    console.log(this.a)
                }.call(obj1), 0)
            }
        }
        //obj2.foo2.call(obj1)
        //å¦‚æœè¿™ç§å†™æ³•çš„è¯ï¼Œæˆ‘æ”¹å˜çš„å°±æ˜¯foo2å‡½æ•°å†…çš„thisæŒ‡å‘äº†ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“ï¼Œ
        //foo2å‡½æ•°å†…thisçš„æŒ‡å‘å’ŒsetTimeouté‡Œå‡½æ•°çš„thisæ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œå› ä¸ºè°ƒç”¨å®šæ—¶å™¨çš„å§‹ç»ˆæ˜¯window
        var a = 3
        obj2.foo1() //2
        obj2.foo2() //{a:1} 1

        //14ã€
        function foo() {
            console.log(this.a)
        }
        var obj = {
            a: 1
        }
        var a = 2

        foo() //2
        foo.call(obj) //1
        foo().call(obj) // 2  ä½†æ˜¯ä¼šå¯¹foo()å‡½æ•°çš„è¿”å›å€¼æ‰§è¡Œ.call(obj)æ“ä½œï¼Œ
        //å¯æ˜¯æˆ‘ä»¬å¯ä»¥çœ‹åˆ°foo()å‡½æ•°çš„è¿”å›å€¼æ˜¯undefinedï¼Œå› æ­¤å°±ä¼šæŠ¥é”™äº†ã€‚
        //æ‰€ä»¥æˆ‘ä»¬å¯ä»¥çœ‹åˆ° foo.call() å’Œ foo().call()çš„åŒºåˆ«äº†ï¼Œä¸€ä¸ªé’ˆå¯¹äºå‡½æ•°ä¸€ä¸ªé’ˆå¯¹äºå‡½æ•°çš„è¿”å›å€¼ã€‚

        //15ã€ç»§ç»­äº†è§£
        //æ—¢ç„¶åˆšåˆš14æ˜¯å› ä¸ºå‡½æ•°æ²¡æœ‰è¿”å›å€¼æ‰æŠ¥çš„é”™ï¼Œé‚£æˆ‘ç°åœ¨ç»™å®ƒåŠ ä¸Šè¿”å›å€¼çœ‹çœ‹ï¼š
        function foo() {
            console.log(this.a)
            return function () {
                console.log(this.a)
            }
        }
        var obj = {
            a: 1
        }
        var a = 2

        foo() //2
        foo.call(obj) //1
        foo().call(obj) //2  1
        //callâ€”â€”ã€‹åœ¨æ‰§è¡Œå®Œfoo()ä¹‹åï¼Œä¼šè¿”å›ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œ
        //å¹¶ä¸”åé¢ä½¿ç”¨äº†.call(obj)æ¥æ”¹å˜è¿™ä¸ªåŒ¿åå‡½æ•°çš„thisæŒ‡å‘å¹¶è°ƒç”¨äº†å®ƒï¼Œæ‰€ä»¥è¾“å‡ºäº†1ã€‚

        //16ã€callæ¢æˆbindä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ
        function foo() {
            console.log(this.a)
            return function () {
                console.log(this.a)
            }
        }
        var obj = {
            a: 1
        }
        var a = 2

        foo() //2
        foo.bind(obj) //ä¸ä¼šæ‰§è¡Œ
        foo().bind(obj) //2 

        //17ã€
        function foo() {
            console.log(this.a) //1
            return function () {
                console.log(this.a) //2
            }
        }
        var obj = {
            a: 1
        }
        var a = 2
        foo.call(obj)()

        //18ã€ä¸€ç›´éƒ½åœ¨åšå‡½æ•°è¿”å›å‡½æ•°çš„é¢˜ç›®ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹æŠŠå®ƒä»¬åŠ åˆ°å¯¹è±¡é‡Œï¼Œä¼šæœ‰å“ªäº›æœ‰è¶£çš„é¢˜ç›®å§ã€‚
        var obj = {
            a: 'obj',
            foo: function () {
                console.log('foo:', this.a)
                return function () {
                    console.log('inner:', this.a)
                }
            }
        }
        var a = 'window'
        var obj2 = {
            a: 'obj2'
        }
        obj.foo()() // 'foo:'obj  'inner:'window
        obj.foo.call(obj2)() //'foo:'obj2 'inner:'window
        obj.foo().call(obj2) //'foo:'obj  'inner:''obj2'

        //19ã€ä¸€ç›´åšè¿™ç§é¢˜ç›®æ˜¯ä¸æ˜¯æ²¡æ„æ€ï¼Œè®©æˆ‘ä»¬åŠ å‡ ä¸ªå‚æ•°æ¥ç©ç©ã€‚
        var obj = {
            a: 1,
            foo: function (b) {
                b = b || this.a
                // ç­‰ä»·äº b ? b : this.a å¦‚æœbçš„å€¼å¤§äº0æˆ–ä¸ºtrue,é‚£ä¹ˆå°±æŠŠbçš„å€¼èµ‹ç»™b,å¦åˆ™å°±æŠŠthis.aèµ‹å€¼ç»™b
                return function (c) {
                    console.log(this.a + b + c)
                }
            }
        }
        var a = 2
        var obj2 = {
            a: 3
        }
        obj.foo(a).call(obj2, 1) //6
        //å¼€å§‹è°ƒç”¨obj.foo(a)å°†2ä¼ å…¥fooå‡½æ•°å¹¶èµ‹å€¼ç»™å½¢å‚b,å¹¶ä¸”ç”±äºé—­åŒ…çš„åŸå› ï¼Œä½¿å¾—åŒ¿åå‡½æ•°å†…èƒ½è®¿é—®åˆ°b,ä¹‹åè°ƒç”¨åŒ¿åå‡½æ•°çš„æ—¶å€™
        //ç”¨call()æ”¹å˜äº†thisçš„æŒ‡å‘ï¼Œä½¿å¾—åŒ¿åå‡½æ•°çš„thisæŒ‡å‘obj2,è¿™æ—¶this.aä¸º3ï¼Œç„¶åcä¸ºä¼ å…¥çš„å‚æ•°1
        //æ‰€ä»¥3+2+1=6 
        obj.foo.call(obj2)(1) //obj.foo.call(obj2) é¦–å…ˆæ˜¯ä½¿ç”¨callæ”¹å˜äº†fooçš„å‡½æ•°çš„æŒ‡å‘ï¼ŒæŒ‡å‘äº†obj2,
        //åˆå› ä¸ºæ­¤æ—¶å¹¶æ²¡æœ‰ä¼ å‚ï¼Œb = b || this.a  b = this.a = 3 ç„¶ååˆè°ƒç”¨åŒ¿åå‡½æ•°ï¼Œåªä¼ äº†ä¸€ä¸ª1ï¼Œæ­¤æ—¶thisæŒ‡å‘ä¸ºwindow
        //æ‰€ä»¥this.a = 2, c = 1;æ‰€ä»¥ 2+3+1 = 6ï¼ï¼ï¼


        // ----------ç®­å¤´å‡½æ•°ç»‘å®š--------------
        //å¯¹äºç®­å¤´å‡½æ•°ï¼Œå®ƒé‡Œé¢çš„thisæ˜¯ç”±å¤–å±‚ä½œç”¨åŸŸæ¥å†³å®šçš„ï¼Œä¸”æŒ‡å‘å‡½æ•°å®šä¹‰æ—¶çš„this,è€Œéæ‰§è¡Œæ—¶
        //è¿›ä¸€æ­¥æ¥è¯´ï¼Œç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰thisç»‘å®šï¼Œå¿…é¡»é€šè¿‡æŸ¥æ‰¾ä½œç”¨åŸŸé“¾æ¥å†³å®šå…¶å€¼ï¼Œå¦‚æœç®­å¤´å‡½æ•°è¢«éç®­å¤´å‡½æ•°åŒ…å«
        //åˆ™thisç»‘å®šçš„æ˜¯æœ€è¿‘ä¸€å±‚éç®­å¤´å‡½æ•°çš„this,å¦åˆ™ï¼Œthisä¸ºundefined
        //20ã€
        var obj = {
            name: 'obj',
            foo1: () => {
                console.log(this.name)
            },
            foo2: function () {
                console.log(this.name)
                return () => {
                    console.log(this.name)
                }
            }
        }
        var name = 'window'
        obj.foo1() //'window'
        obj.foo2()() // obj obj!!!
        //è€Œè¿”å›çš„åŒ¿åå‡½æ•°æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œå®ƒçš„thisç”±å¤–å±‚ä½œç”¨åŸŸå†³å®šï¼Œé‚£ä¹Ÿå°±æ˜¯å‡½æ•°foo2å’¯ï¼Œ
        //é‚£ä¹Ÿå°±æ˜¯å®ƒçš„thisä¼šå’Œfoo2å‡½æ•°é‡Œçš„thisä¸€æ ·ï¼Œå°±ä¹Ÿæ‰“å°å‡ºäº†objã€‚

        //21ã€
        var name = 'window'
        var obj1 = {
            name: 'obj1',
            foo: function () {
                console.log(this.name)
            }
        }
        var obj2 = {
            name: 'obj2',
            foo: () => {
                console.log(this.name)
            }
        }
        obj1.foo() // 'obj1'
        obj2.foo() // 'window'

        //22ã€å¦‚æœç”¨æ™®é€šå‡½æ•°å’Œç®­å¤´å‡½æ•°æ¥åšä¸€å±‚åµŒå¥—å…³ç³»çš„è¯ï¼Œ
        //ä¸€å…±æœ‰å››ç§æƒ…å†µï¼Œè®©æˆ‘ä»¬æŠŠæ¯ç§æƒ…å†µéƒ½è€ƒè™‘ä¸€é ğŸ˜ï¼š
        var name = 'window'
        var obj1 = {
            name: 'obj1',
            foo: function () {
                console.log(this.name) //obj1
                return function () {
                    console.log(this.name) //window
                }
            }
        }
        var obj2 = {
            name: 'obj2',
            foo: function () {
                console.log(this.name) //obj2
                return () => {
                    console.log(this.name) //obj2
                }
            }
        }
        var obj3 = {
            name: 'obj3',
            foo: () => {
                console.log(this.name) //window
                return function () {
                    console.log(this.name) //window
                }
            }
        }
        var obj4 = {
            name: 'obj4',
            foo: () => {
                console.log(this.name) //window
                return () => {
                    console.log(this.name) //window
                }
            }
        }

        obj1.foo()()
        obj2.foo()()
        obj3.foo()()
        obj4.foo()()

        //23ã€æ„é€ å‡½æ•°å¯¹è±¡ä¸­æ™®é€šå‡½æ•°å’Œç®­å¤´å‡½æ•°çš„åŒºåˆ«ï¼šä¸€å±‚å‡½æ•°çš„é¢˜ç›®
        var name = 'window'

        function Person(name) {
            this.name = name
            this.foo1 = function () {
                console.log(this.name)
            }
            this.foo2 = () => {
                console.log(this.name)
            }
        }
        var person2 = {
            name: 'person2',
            foo2: () => {
                console.log(this.name)
            }
        }
        var person1 = new Person('person1')
        person1.foo1() //'person1' person1.foo1()æ˜¯ä¸ªæ™®é€šå‡½æ•°ï¼Œthisç”±æœ€åè°ƒç”¨å®ƒçš„å¯¹è±¡å†³å®šï¼Œå³person1
        //person1.foo2()ä¸ºç®­å¤´å‡½æ•°ï¼Œthisç”±å¤–å±‚ä½œç”¨åŸŸå†³å®šï¼Œä¸”æŒ‡å‘å‡½æ•°å®šä¹‰æ—¶çš„thisè€Œéæ‰§è¡Œæ—¶ï¼Œ
        //åœ¨è¿™é‡Œå®ƒçš„å¤–å±‚ä½œç”¨åŸŸæ˜¯å‡½æ•°Personï¼Œä¸”è¿™ä¸ªæ˜¯æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”ä½¿ç”¨äº†newæ¥ç”Ÿæˆäº†å¯¹è±¡person1ï¼Œæ‰€ä»¥æ­¤æ—¶thisçš„æŒ‡å‘æ˜¯ä¸ºperson1ã€‚
        person1.foo2() //'person1'
        //
        person2.foo2() //'window'

        //24ã€æ„é€ å‡½æ•°å¯¹è±¡ä¸­æ™®é€šå‡½æ•°å’Œç®­å¤´å‡½æ•°çš„åŒºåˆ«ï¼š
        //å‡½æ•°åµŒå¥—é¢˜ç›®
        var name = 'window'

        function Person(name) {
            this.name = name
            this.foo1 = function () {
                console.log(this.name) // 'person1'
                return function () {
                    console.log(this.name) //'window'
                }
            }
            this.foo2 = function () {
                console.log(this.name) //'person1'
                return () => {
                    console.log(this.name) //'person1'
                }
            }
            this.foo3 = () => {
                console.log(this.name) //'person1'
                return function () {
                    console.log(this.name) //'window'
                }
            }
            this.foo4 = () => {
                console.log(this.name) //'person1'
                return () => {
                    console.log(this.name) //'person1'
                }
            }
        }
        var person1 = new Person('person1')
        person1.foo1()()
        person1.foo2()()
        person1.foo3()()
        person1.foo4()()

        //  æ€»ç»“ç®­å¤´å‡½æ•°æ³¨æ„ç‚¹ï¼š1ã€å®ƒé‡Œé¢çš„thisæ˜¯ç”±å¤–å±‚ä½œç”¨åŸŸæ¥å†³å®šçš„ï¼Œä¸”æŒ‡å‘å‡½æ•°å®šä¹‰æ˜¯çš„thisè€Œéæ‰§è¡Œæ—¶
        // 2ã€å­—é¢é‡åˆ›å»ºçš„å¯¹è±¡ï¼Œä½œç”¨åŸŸæ˜¯window,å¦‚æœé‡Œé¢æœ‰ç®­å¤´å‡½æ•°å±æ€§çš„è¯ï¼ŒthisæŒ‡å‘çš„æ˜¯window
        // 3ã€æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡ï¼Œä½œç”¨åŸŸæ˜¯å¯ä»¥ç†è§£ä¸ºæ˜¯è¿™ä¸ªæ„é€ å‡½æ•°ï¼Œä¸”è¿™ä¸ªæ„é€ å‡½æ•°çš„thisæ˜¯æŒ‡å‘æ–°å»ºçš„å¯¹è±¡çš„ï¼Œå› æ­¤thisæŒ‡å‘è¿™ä¸ªå¯¹è±¡
        // 4ã€ç®­å¤´å‡½æ•°çš„thisæ˜¯æ— æ³•é€šè¿‡bindã€callã€applyæ¥ç›´æ¥ä¿®æ”¹ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡æ”¹å˜ä½œç”¨åŸŸä¸­thisçš„æŒ‡å‘æ¥é—´æ¥ä¿®æ”¹ã€‚

        //25ã€ç»¼åˆé¢˜ç»ƒä¹ 
        var name = 'window'
        var person1 = {
            name: 'person1',
            foo1: function () {
                console.log(this.name)
            },
            foo2: () => console.log(this.name),
            foo3: function () {
                return function () {
                    console.log(this.name)
                }
            },
            foo4: function () {
                return () => {
                    console.log(this.name)
                }
            }
        }
        var person2 = {
            name: 'person2'
        }

        person1.foo1()  //'person1' 
        person1.foo1.call(person2) //'person2'

        person1.foo2() //'window'
        person1.foo2.call(person2) //'window'

        person1.foo3()()  //'window'
        person1.foo3.call(person2)() //'window'
        person1.foo3().call(person2) //'person2'

        person1.foo4()()  //'person1'
        person1.foo4.call(person2)() //'person2'
        person1.foo4().call(person2) //'person1'
    </script>
</body>

</html>